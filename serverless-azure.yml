service: sls-azure

frameworkVersion: "2"

useDotenv: true

provider:
  name: azure
  region: Central US
  runtime: nodejs12
  memorySize: 128
  timeout: 300s
  environment:
    DB_ENDPOINT: "${env:DB_ENDPOINT}"
    DB_KEY: "${env:DB_KEY}"
  # os: windows  # windows is default, linux is available
  # prefix: "sample"  # prefix of generated resource name
  # subscriptionId: A356AC8C-E310-44F4-BF85-C7F29044AF99
  # stage: dev
  # type: premium  # premium azure functions

plugins:
  - serverless-azure-functions

package:
  # include:
  #   - include-me.js
  #   - include-me-dir/**
  exclude:
    # - exclude-me.js
    # - exclude-me-dir/**
    - local.settings.json
    - .vscode/**

functions:
  refreshAlbertsons:
    handler: src/handlers/refreshAlbertsons.refreshAlbertsons
    events:
      - timer:
          schedule: "0 */2 * * * *"
